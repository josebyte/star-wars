(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{UyOw:function(A,t,i){"use strict";i.r(t),i.d(t,"ShipsModule",(function(){return x}));var s=i("ofXK"),c=i("tyNb"),e=i("fXoL"),n=i("AytR"),r=i("LRne"),o=i("lJxs"),a=i("tk/3");class b{}let p=(()=>{class A{constructor(A){this.http=A,this.cache=[]}get(A,t,i=!1){let s=this.getCachedItem(A);if(null!=s&&!i){const A=s.timestampCached+t;if(Date.now()<A)return Object(r.a)(s.data)}return this.http.get(A).pipe(Object(o.a)(i=>(t&&(null==s&&(s=new b,s.url=A,this.cache.push(s)),s.data=i,s.timestampCached=Date.now()),i)))}getCachedItem(A){return this.cache.find(t=>t.url==A)}}return A.\u0275fac=function(t){return new(t||A)(e.Qb(a.a))},A.\u0275prov=e.Db({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),h=(()=>{class A{constructor(A){this.httpCached=A}loadShips(A){return this.httpCached.get(n.a.api.ships+"?page="+A.page,3e5)}loadShipDetails(A){return this.httpCached.get(n.a.api.ships+A,3e5)}}return A.\u0275fac=function(t){return new(t||A)(e.Qb(p))},A.\u0275prov=e.Db({token:A,factory:A.\u0275fac}),A})();const g=function(A){return[A]};let l=(()=>{class A{constructor(){}ngOnInit(){}getShipId(){return this.starship.url.split("/").filter(A=>""!==A).slice(-1)[0]}onImgError(A){A.target.src="assets/img/no-image.jpg"}}return A.\u0275fac=function(t){return new(t||A)},A.\u0275cmp=e.Bb({type:A,selectors:[["app-ship"]],inputs:{starship:"starship"},decls:5,vars:5,consts:[[1,"panel","ship",3,"routerLink"],[1,"panel-body"],[3,"src","error"]],template:function(A,t){1&A&&(e.Mb(0,"div",0),e.Mb(1,"div",1),e.Mb(2,"h4"),e.ic(3),e.Lb(),e.Mb(4,"img",2),e.Tb("error",(function(A){return t.onImgError(A)})),e.Lb(),e.Lb(),e.Lb()),2&A&&(e.ac("routerLink",e.cc(3,g,"/ships/ship-details/"+t.getShipId())),e.xb(3),e.jc(t.starship.name),e.xb(1),e.ac("src","https://starwars-visualguide.com/assets/img/starships/"+t.getShipId()+".jpg",e.fc))},directives:[c.c],styles:[".panel-body[_ngcontent-%COMP%]{position:relative;text-align:center;color:#fff;background-color:#c7c7c7;cursor:pointer}.panel-body[_ngcontent-%COMP%]:hover{width:100%;height:100%;background:#fff;opacity:.75;transition:opacity .6s ease-in}h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-shadow:1px 1px 1px #000}"]}),A})();function u(A,t){1&A&&e.Ib(0,"app-ship",7),2&A&&e.ac("starship",t.$implicit)}function d(A,t){if(1&A){const A=e.Nb();e.Mb(0,"button",8),e.Tb("click",(function(){e.ec(A);const t=e.Vb().ngIf;return e.Vb().goToPage(t.previous)})),e.ic(1,"Prev"),e.Lb()}}function f(A,t){if(1&A){const A=e.Nb();e.Mb(0,"button",8),e.Tb("click",(function(){e.ec(A);const t=e.Vb().ngIf;return e.Vb().goToPage(t.next)})),e.ic(1,"Next"),e.Lb()}}function M(A,t){if(1&A&&(e.Kb(0),e.Mb(1,"h1"),e.ic(2,"Ships"),e.Lb(),e.Mb(3,"div",1),e.Mb(4,"div",2),e.hc(5,u,1,1,"app-ship",3),e.Lb(),e.Lb(),e.Mb(6,"div",2),e.Mb(7,"div",4),e.hc(8,d,2,0,"button",5),e.Lb(),e.Mb(9,"div",6),e.hc(10,f,2,0,"button",5),e.Lb(),e.Lb(),e.Jb()),2&A){const A=t.ngIf;e.xb(5),e.ac("ngForOf",A.results),e.xb(3),e.ac("ngIf",A.previous),e.xb(2),e.ac("ngIf",A.next)}}let m=(()=>{class A{constructor(A){this.shipsService=A}ngOnInit(){this.starships$=this.shipsService.loadShips({page:1})}goToPage(A){const t=A.split("page=")[1];this.starships$=this.shipsService.loadShips({page:t})}}return A.\u0275fac=function(t){return new(t||A)(e.Hb(h))},A.\u0275cmp=e.Bb({type:A,selectors:[["app-ships"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"ships"],[1,"row"],["class","col-xs-6 col-sm-6 col-md-3",3,"starship",4,"ngFor","ngForOf"],[1,"col-xs-6"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"col-xs-6","right"],[1,"col-xs-6","col-sm-6","col-md-3",3,"starship"],[1,"btn","btn-primary",3,"click"]],template:function(A,t){1&A&&(e.hc(0,M,11,3,"ng-container",0),e.Wb(1,"async")),2&A&&e.ac("ngIf",e.Xb(1,1,t.starships$))},directives:[s.m,s.l,l],pipes:[s.b],styles:[""]}),A})();function w(A,t){1&A&&e.Ib(0,"img",4)}const I=function(A){return[A,"EUR","symbol","1.2-2","es-ES"]};function C(A,t){if(1&A){const A=e.Nb();e.Mb(0,"div"),e.Mb(1,"div",5),e.Mb(2,"img",6),e.Tb("error",(function(t){return e.ec(A),t.target.src=""})),e.Lb(),e.Lb(),e.Mb(3,"div",7),e.Mb(4,"h3"),e.ic(5),e.Lb(),e.Mb(6,"div",8),e.Mb(7,"b"),e.ic(8),e.Wb(9,"currency"),e.Lb(),e.Lb(),e.Mb(10,"div",9),e.Mb(11,"div",10),e.ic(12,"Megalight speed: "),e.Lb(),e.Mb(13,"div",10),e.ic(14),e.Wb(15,"number"),e.Lb(),e.Mb(16,"div",10),e.ic(17,"Max. capacity (kg): "),e.Lb(),e.Mb(18,"div",10),e.ic(19),e.Wb(20,"number"),e.Lb(),e.Mb(21,"div",10),e.ic(22,"Consumables: "),e.Lb(),e.Mb(23,"div",10),e.ic(24),e.Lb(),e.Mb(25,"div",10),e.ic(26,"Crew: "),e.Lb(),e.Mb(27,"div",10),e.ic(28),e.Lb(),e.Mb(29,"div",10),e.ic(30,"Passengers: "),e.Lb(),e.Mb(31,"div",10),e.ic(32),e.Lb(),e.Mb(33,"div",10),e.ic(34,"Hyperdrive rating: "),e.Lb(),e.Mb(35,"div",10),e.ic(36),e.Wb(37,"number"),e.Lb(),e.Lb(),e.Lb(),e.Lb()}if(2&A){const A=t.ngIf,i=e.Vb();e.xb(2),e.ac("src","https://starwars-visualguide.com/assets/img/starships/"+i.id+".jpg",e.fc),e.xb(3),e.jc(A.name),e.xb(3),e.jc(e.Zb(9,9,e.cc(23,I,A.cost_in_credits))),e.xb(6),e.jc(e.Xb(15,15,A.MGLT)),e.xb(5),e.jc(e.Yb(20,17,A.cargo_capacity,"1.2-2","es-ES")),e.xb(5),e.jc(A.consumables),e.xb(4),e.jc(A.crew),e.xb(4),e.jc(A.passengers),e.xb(4),e.jc(e.Xb(37,21,A.hyperdrive_rating))}}let Q=(()=>{class A{constructor(A,t,i){this.route=A,this.shipsService=t,this.location=i,this.loading=!0}ngOnInit(){this.route.paramMap.subscribe(A=>{this.id=parseInt(A.get("id"),10),this.starship$=this.shipsService.loadShipDetails(this.id),this.loading=!1})}back(){this.location.back()}}return A.\u0275fac=function(t){return new(t||A)(e.Hb(c.a),e.Hb(h),e.Hb(s.i))},A.\u0275cmp=e.Bb({type:A,selectors:[["app-ship-details"]],decls:6,vars:4,consts:[["src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",4,"ngIf"],[1,"topBar"],[3,"click"],[4,"ngIf"],["src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="],[1,"col-xs-12","col-sm-6","detail-image"],[3,"src","error"],[1,"col-xs-12","col-sm-6","details"],[1,"center"],[1,"row"],[1,"col-xs-6"]],template:function(A,t){1&A&&(e.hc(0,w,1,0,"img",0),e.Mb(1,"div",1),e.Mb(2,"a",2),e.Tb("click",(function(){return t.back()})),e.ic(3,"VOLVER"),e.Lb(),e.Lb(),e.hc(4,C,38,25,"div",3),e.Wb(5,"async")),2&A&&(e.ac("ngIf",t.loading),e.xb(4),e.ac("ngIf",e.Xb(5,2,t.starship$)))},directives:[s.m],pipes:[s.b,s.d,s.f],styles:["img[_ngcontent-%COMP%]{max-width:100%}.details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;font-size:1.2em}.detail-image[_ngcontent-%COMP%]{padding-left:0}.topBar[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"]}),A})(),v=(()=>{class A{constructor(A){this.router=A}canActivate(A,t){return!!localStorage.getItem("currentUser")||(this.router.navigate(["/auth"],{queryParams:{returnUrl:t.url}}),!1)}}return A.\u0275fac=function(t){return new(t||A)(e.Qb(c.b))},A.\u0275prov=e.Db({token:A,factory:A.\u0275fac}),A})();const E=[{path:"",component:m,canActivate:[v]},{path:"ship-details/:id",component:Q,canActivate:[v]}];let L=(()=>{class A{}return A.\u0275mod=e.Fb({type:A}),A.\u0275inj=e.Eb({factory:function(t){return new(t||A)},imports:[[c.d.forChild(E)],c.d]}),A})(),x=(()=>{class A{}return A.\u0275mod=e.Fb({type:A}),A.\u0275inj=e.Eb({factory:function(t){return new(t||A)},providers:[h,v],imports:[[s.c,L]]}),A})()}}]);