(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{mmyE:function(t,n,i){"use strict";i.r(n),i.d(n,"FilmsModule",(function(){return h}));var s=i("ofXK"),c=i("tyNb"),r=i("P+IX"),e=i("fXoL"),o=i("AytR"),l=i("tk/3");let b=(()=>{class t{constructor(t){this.http=t}loadFilms(t){return this.http.get(o.a.api.films+"?page="+t.page)}loadFilmDetails(t){return this.http.get(o.a.api.films+t)}}return t.\u0275fac=function(n){return new(n||t)(e.Qb(l.a))},t.\u0275prov=e.Db({token:t,factory:t.\u0275fac}),t})(),f=(()=>{class t{constructor(){}ngOnInit(){}getFilmId(){return this.film.url.split("/").filter(t=>""!==t).slice(-1)[0]}onImgError(t){t.target.src="assets/img/no-image.png"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Bb({type:t,selectors:[["app-film"]],inputs:{film:"film"},decls:5,vars:2,consts:[[1,"ship"],[1,"panel-body"],[3,"src","error"],[1,"text-center"]],template:function(t,n){1&t&&(e.Mb(0,"div",0),e.Mb(1,"div",1),e.Mb(2,"img",2),e.Sb("error",(function(t){return n.onImgError(t)})),e.Lb(),e.Mb(3,"h5",3),e.hc(4),e.Lb(),e.Lb(),e.Lb()),2&t&&(e.xb(2),e.Zb("src","https://starwars-visualguide.com/assets/img/films/"+n.getFilmId()+".jpg",e.ec),e.xb(2),e.ic(n.film.title))},styles:[""]}),t})();function a(t,n){1&t&&e.Ib(0,"app-film",7),2&t&&e.Zb("film",n.$implicit)}function m(t,n){if(1&t){const t=e.Nb();e.Mb(0,"button",8),e.Sb("click",(function(){e.dc(t);const n=e.Ub().ngIf;return e.Ub().goToPage(n.previous)})),e.hc(1,"Prev"),e.Lb()}}function p(t,n){if(1&t){const t=e.Nb();e.Mb(0,"button",8),e.Sb("click",(function(){e.dc(t);const n=e.Ub().ngIf;return e.Ub().goToPage(n.next)})),e.hc(1,"Next"),e.Lb()}}function u(t,n){if(1&t&&(e.Kb(0),e.Mb(1,"h1"),e.hc(2,"Films"),e.Lb(),e.Mb(3,"div",1),e.Mb(4,"div",2),e.gc(5,a,1,1,"app-film",3),e.Lb(),e.Lb(),e.Mb(6,"div",2),e.Mb(7,"div",4),e.gc(8,m,2,0,"button",5),e.Lb(),e.Mb(9,"div",6),e.gc(10,p,2,0,"button",5),e.Lb(),e.Lb(),e.Jb()),2&t){const t=n.ngIf;e.xb(5),e.Zb("ngForOf",t.results),e.xb(3),e.Zb("ngIf",t.previous),e.xb(2),e.Zb("ngIf",t.next)}}const g=[{path:"",component:(()=>{class t{constructor(t){this.filmsService=t}ngOnInit(){this.films$=this.filmsService.loadFilms({page:1})}goToPage(t){const n=t.split("page=")[1];this.films$=this.filmsService.loadFilms({page:n})}}return t.\u0275fac=function(n){return new(n||t)(e.Hb(b))},t.\u0275cmp=e.Bb({type:t,selectors:[["app-film-list"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"ships"],[1,"row"],["class","col-sm-6 col-md-4",3,"film",4,"ngFor","ngForOf"],[1,"col-6"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"col-6","right"],[1,"col-sm-6","col-md-4",3,"film"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(e.gc(0,u,11,3,"ng-container",0),e.Vb(1,"async")),2&t&&e.Zb("ngIf",e.Wb(1,1,n.films$))},directives:[s.m,s.l,f],pipes:[s.b],styles:[""]}),t})(),canActivate:[r.a]}];let d=(()=>{class t{}return t.\u0275mod=e.Fb({type:t}),t.\u0275inj=e.Eb({factory:function(n){return new(n||t)},imports:[[c.f.forChild(g)],c.f]}),t})(),h=(()=>{class t{}return t.\u0275mod=e.Fb({type:t}),t.\u0275inj=e.Eb({factory:function(n){return new(n||t)},providers:[b,r.a],imports:[[s.c,d]]}),t})()}}]);