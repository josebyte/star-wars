(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{UyOw:function(A,t,i){"use strict";i.r(t),i.d(t,"ShipsModule",(function(){return x}));var s=i("ofXK"),c=i("tyNb"),n=i("fXoL"),e=i("z6cu"),r=i("LRne"),o=i("JIr8"),a=i("eIep"),b=i("AytR"),p=i("tk/3");let g=(()=>{class A{constructor(A){this.http=A}loadShips(A){return this.http.get(b.a.api.ships+"?page="+A.page)}loadShipDetails(A){return this.http.get(b.a.api.ships+A)}_manageLoad(){return A=>A.pipe(Object(o.a)(A=>Object(e.a)("Error de conectividad")),Object(a.a)(A=>{if(console.log(A),200===A.status||204===A.status)return Object(r.a)(A)}))}}return A.\u0275fac=function(t){return new(t||A)(n.Qb(p.a))},A.\u0275prov=n.Db({token:A,factory:A.\u0275fac}),A})();const h=function(A){return[A]};let l=(()=>{class A{constructor(){}ngOnInit(){}getShipId(){return this.starship.url.split("/").filter(A=>""!==A).slice(-1)[0]}onImgError(A){A.target.src="../../../../assets/img/no-image.jpg"}}return A.\u0275fac=function(t){return new(t||A)},A.\u0275cmp=n.Bb({type:A,selectors:[["app-ship"]],inputs:{starship:"starship"},decls:5,vars:5,consts:[[1,"panel","ship",3,"routerLink"],[1,"panel-body"],[3,"src","error"]],template:function(A,t){1&A&&(n.Mb(0,"div",0),n.Mb(1,"div",1),n.Mb(2,"h4"),n.ic(3),n.Lb(),n.Mb(4,"img",2),n.Tb("error",(function(A){return t.onImgError(A)})),n.Lb(),n.Lb(),n.Lb()),2&A&&(n.ac("routerLink",n.cc(3,h,"/ships/ship-details/"+t.getShipId())),n.xb(3),n.jc(t.starship.name),n.xb(1),n.ac("src","https://starwars-visualguide.com/assets/img/starships/"+t.getShipId()+".jpg",n.fc))},directives:[c.c],styles:[".panel-body[_ngcontent-%COMP%]{position:relative;text-align:center;color:#fff;background-color:#c7c7c7;cursor:pointer}.panel-body[_ngcontent-%COMP%]:hover{width:100%;height:100%;background:#fff;opacity:.75;transition:opacity .6s ease-in}h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-shadow:1px 1px 1px #000}"]}),A})();function u(A,t){1&A&&n.Ib(0,"app-ship",7),2&A&&n.ac("starship",t.$implicit)}function d(A,t){if(1&A){const A=n.Nb();n.Mb(0,"button",8),n.Tb("click",(function(){n.ec(A);const t=n.Vb().ngIf;return n.Vb().goToPage(t.previous)})),n.ic(1,"Prev"),n.Lb()}}function f(A,t){if(1&A){const A=n.Nb();n.Mb(0,"button",8),n.Tb("click",(function(){n.ec(A);const t=n.Vb().ngIf;return n.Vb().goToPage(t.next)})),n.ic(1,"Next"),n.Lb()}}function M(A,t){if(1&A&&(n.Kb(0),n.Mb(1,"h1"),n.ic(2,"Ships"),n.Lb(),n.Mb(3,"div",1),n.Mb(4,"div",2),n.hc(5,u,1,1,"app-ship",3),n.Lb(),n.Lb(),n.Mb(6,"div",2),n.Mb(7,"div",4),n.hc(8,d,2,0,"button",5),n.Lb(),n.Mb(9,"div",6),n.hc(10,f,2,0,"button",5),n.Lb(),n.Lb(),n.Jb()),2&A){const A=t.ngIf;n.xb(5),n.ac("ngForOf",A.results),n.xb(3),n.ac("ngIf",A.previous),n.xb(2),n.ac("ngIf",A.next)}}let m=(()=>{class A{constructor(A){this.shipsService=A}ngOnInit(){this.starships$=this.shipsService.loadShips({page:1})}goToPage(A){const t=A.split("page=")[1];this.starships$=this.shipsService.loadShips({page:t})}}return A.\u0275fac=function(t){return new(t||A)(n.Hb(g))},A.\u0275cmp=n.Bb({type:A,selectors:[["app-ships"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"ships"],[1,"row"],["class","col-xs-6 col-sm-6 col-md-3",3,"starship",4,"ngFor","ngForOf"],[1,"col-xs-6"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"col-xs-6","right"],[1,"col-xs-6","col-sm-6","col-md-3",3,"starship"],[1,"btn","btn-primary",3,"click"]],template:function(A,t){1&A&&(n.hc(0,M,11,3,"ng-container",0),n.Wb(1,"async")),2&A&&n.ac("ngIf",n.Xb(1,1,t.starships$))},directives:[s.m,s.l,l],pipes:[s.b],styles:[""]}),A})();function I(A,t){1&A&&n.Ib(0,"img",4)}const w=function(A){return[A,"EUR","symbol","1.2-2","es-ES"]};function C(A,t){if(1&A){const A=n.Nb();n.Mb(0,"div"),n.Mb(1,"div",5),n.Mb(2,"img",6),n.Tb("error",(function(t){return n.ec(A),t.target.src=""})),n.Lb(),n.Lb(),n.Mb(3,"div",7),n.Mb(4,"h3"),n.ic(5),n.Lb(),n.Mb(6,"div",8),n.Mb(7,"b"),n.ic(8),n.Wb(9,"currency"),n.Lb(),n.Lb(),n.Mb(10,"div",9),n.Mb(11,"div",10),n.ic(12,"Megalight speed: "),n.Lb(),n.Mb(13,"div",10),n.ic(14),n.Wb(15,"number"),n.Lb(),n.Mb(16,"div",10),n.ic(17,"Max. capacity (kg): "),n.Lb(),n.Mb(18,"div",10),n.ic(19),n.Wb(20,"number"),n.Lb(),n.Mb(21,"div",10),n.ic(22,"Consumables: "),n.Lb(),n.Mb(23,"div",10),n.ic(24),n.Lb(),n.Mb(25,"div",10),n.ic(26,"Crew: "),n.Lb(),n.Mb(27,"div",10),n.ic(28),n.Lb(),n.Mb(29,"div",10),n.ic(30,"Passengers: "),n.Lb(),n.Mb(31,"div",10),n.ic(32),n.Lb(),n.Mb(33,"div",10),n.ic(34,"Hyperdrive rating: "),n.Lb(),n.Mb(35,"div",10),n.ic(36),n.Wb(37,"number"),n.Lb(),n.Lb(),n.Lb(),n.Lb()}if(2&A){const A=t.ngIf,i=n.Vb();n.xb(2),n.ac("src","https://starwars-visualguide.com/assets/img/starships/"+i.id+".jpg",n.fc),n.xb(3),n.jc(A.name),n.xb(3),n.jc(n.Zb(9,9,n.cc(23,w,A.cost_in_credits))),n.xb(6),n.jc(n.Xb(15,15,A.MGLT)),n.xb(5),n.jc(n.Yb(20,17,A.cargo_capacity,"1.2-2","es-ES")),n.xb(5),n.jc(A.consumables),n.xb(4),n.jc(A.crew),n.xb(4),n.jc(A.passengers),n.xb(4),n.jc(n.Xb(37,21,A.hyperdrive_rating))}}let Q=(()=>{class A{constructor(A,t,i){this.route=A,this.shipsService=t,this.location=i,this.loading=!0}ngOnInit(){this.route.paramMap.subscribe(A=>{this.id=parseInt(A.get("id"),10),this.starship$=this.shipsService.loadShipDetails(this.id),this.loading=!1})}back(){this.location.back()}}return A.\u0275fac=function(t){return new(t||A)(n.Hb(c.a),n.Hb(g),n.Hb(s.i))},A.\u0275cmp=n.Bb({type:A,selectors:[["app-ship-details"]],decls:6,vars:4,consts:[["src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",4,"ngIf"],[1,"topBar"],[3,"click"],[4,"ngIf"],["src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="],[1,"col-xs-12","col-sm-6","detail-image"],[3,"src","error"],[1,"col-xs-12","col-sm-6","details"],[1,"center"],[1,"row"],[1,"col-xs-6"]],template:function(A,t){1&A&&(n.hc(0,I,1,0,"img",0),n.Mb(1,"div",1),n.Mb(2,"a",2),n.Tb("click",(function(){return t.back()})),n.ic(3,"VOLVER"),n.Lb(),n.Lb(),n.hc(4,C,38,25,"div",3),n.Wb(5,"async")),2&A&&(n.ac("ngIf",t.loading),n.xb(4),n.ac("ngIf",n.Xb(5,2,t.starship$)))},directives:[s.m],pipes:[s.b,s.d,s.f],styles:["img[_ngcontent-%COMP%]{max-width:100%}.details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;font-size:1.2em}.detail-image[_ngcontent-%COMP%]{padding-left:0}.topBar[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"]}),A})(),v=(()=>{class A{constructor(A){this.router=A}canActivate(A,t){return!!localStorage.getItem("currentUser")||(this.router.navigate(["/auth"],{queryParams:{returnUrl:t.url}}),!1)}}return A.\u0275fac=function(t){return new(t||A)(n.Qb(c.b))},A.\u0275prov=n.Db({token:A,factory:A.\u0275fac}),A})();const E=[{path:"",component:m,canActivate:[v]},{path:"ship-details/:id",component:Q,canActivate:[v]}];let L=(()=>{class A{}return A.\u0275mod=n.Fb({type:A}),A.\u0275inj=n.Eb({factory:function(t){return new(t||A)},imports:[[c.d.forChild(E)],c.d]}),A})(),x=(()=>{class A{}return A.\u0275mod=n.Fb({type:A}),A.\u0275inj=n.Eb({factory:function(t){return new(t||A)},providers:[g,v],imports:[[s.c,L]]}),A})()}}]);